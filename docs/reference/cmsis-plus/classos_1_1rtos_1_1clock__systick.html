<!-- HTML header for doxygen 1.9.6-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.7"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>µOS++ IIIe Reference: os::rtos::clock_systick Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
<link href="common-custom.css" rel="stylesheet" type="text/css"/>
<link href="cards.css" rel="stylesheet" type="text/css"/>
<!-- Awesome Theme Begin -->
<script type="text/javascript" src="doxygen-awesome-darkmode-toggle.js"></script>
<script type="text/javascript" src="doxygen-awesome-fragment-copy-button.js"></script>
<script type="text/javascript" src="doxygen-awesome-paragraph-link.js"></script>
<script type="text/javascript" src="doxygen-awesome-interactive-toc.js"></script>
<script type="text/javascript" src="doxygen-awesome-tabs.js"></script>
<script type="text/javascript">
DoxygenAwesomeDarkModeToggle.init()
DoxygenAwesomeFragmentCopyButton.init()
DoxygenAwesomeParagraphLink.init()
DoxygenAwesomeInteractiveToc.init()
DoxygenAwesomeTabs.init()
</script>
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-E9T84WD3CK"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());
  gtag('config', 'G-E9T84WD3CK');
</script>
<!-- Awesome Theme End -->
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectlogo"><a href="$relpath/../../../"><img alt="Logo" src="logo.png"/></a></td>
  <td id="projectalign">
   <div id="projectname">µOS++ IIIe Reference<span id="projectnumber">&#160;7.0.0</span>
   </div>
   <div id="projectbrief">The third edition of µOS++, a POSIX inspired open source framework, written in C++</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.7 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('classos_1_1rtos_1_1clock__systick.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="classos_1_1rtos_1_1clock__systick-members.html">List of all members</a>  </div>
  <div class="headertitle"><div class="title">os::rtos::clock_systick Class Reference<div class="ingroups"><a class="el" href="group__cmsis-plus-rtos.html">µOS++ RTOS C++ API</a> &raquo; <a class="el" href="group__cmsis-plus-rtos-clock.html">Clocks</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>SysTick derived clock.  
 <a href="classos_1_1rtos_1_1clock__systick.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="os_8h_source.html">cmsis-plus/rtos/os.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for os::rtos::clock_systick:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
 <div class="center">
  <img src="classos_1_1rtos_1_1clock__systick.png" usemap="#os::rtos::clock_5Fsystick_map" alt=""/>
  <map id="os::rtos::clock_5Fsystick_map" name="os::rtos::clock_5Fsystick_map">
<area href="classos_1_1rtos_1_1clock.html" title="Generic clock." alt="os::rtos::clock" shape="rect" coords="0,56,184,80"/>
<area href="classos_1_1rtos_1_1internal_1_1object__named.html" title="Base class for named objects." alt="os::rtos::internal::object_named" shape="rect" coords="0,0,184,24"/>
  </map>
</div></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-types" name="pub-types"></a>
Public Types</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Types &amp; Constants</div></td></tr>
<tr class="memitem:ga149d8b5cea55224ef5cfede8a81df04c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a> = <a class="el" href="namespaceos_1_1rtos_1_1port_1_1clock.html#a5efa952516460ea56fdea19df09ef36a">port::clock::duration_t</a></td></tr>
<tr class="memdesc:ga149d8b5cea55224ef5cfede8a81df04c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of variables holding clock durations.  <br /></td></tr>
<tr class="separator:ga149d8b5cea55224ef5cfede8a81df04c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga4f6ee5cdd07c87db11f64d02e1c354d1"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a> = <a class="el" href="namespaceos_1_1rtos_1_1port_1_1clock.html#a87197ad781d8458bcdfdd0c95441dc26">port::clock::timestamp_t</a></td></tr>
<tr class="memdesc:ga4f6ee5cdd07c87db11f64d02e1c354d1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of variables holding clock time stamps.  <br /></td></tr>
<tr class="separator:ga4f6ee5cdd07c87db11f64d02e1c354d1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gabb59996de739574c5f5255e7b3d29c1c"><td class="memItemLeft" align="right" valign="top">using&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__cmsis-plus-rtos-clock.html#gabb59996de739574c5f5255e7b3d29c1c">offset_t</a> = <a class="el" href="namespaceos_1_1rtos_1_1port_1_1clock.html#aa15053ef80a72407d5aa9f1970d812e9">port::clock::offset_t</a></td></tr>
<tr class="memdesc:gabb59996de739574c5f5255e7b3d29c1c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Type of variables holding clock offsets.  <br /></td></tr>
<tr class="separator:gabb59996de739574c5f5255e7b3d29c1c"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-methods" name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Constructors &amp; Destructor</div></td></tr>
<tr class="memitem:ad32ae07f1c2e9c3cee3077e50a9c8fdd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock__systick.html#ad32ae07f1c2e9c3cee3077e50a9c8fdd">clock_systick</a> ()</td></tr>
<tr class="memdesc:ad32ae07f1c2e9c3cee3077e50a9c8fdd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Construct a SysTick clock object instance.  <br /></td></tr>
<tr class="separator:ad32ae07f1c2e9c3cee3077e50a9c8fdd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3714904ecc435583aa5e9694616fc830"><td class="memItemLeft" align="right" valign="top">virtual&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock__systick.html#a3714904ecc435583aa5e9694616fc830">~clock_systick</a> () override</td></tr>
<tr class="memdesc:a3714904ecc435583aa5e9694616fc830"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destruct the SysTick clock object instance.  <br /></td></tr>
<tr class="separator:a3714904ecc435583aa5e9694616fc830"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:a965f1afa68128bdfaeac93e216e2196f"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#a965f1afa68128bdfaeac93e216e2196f">now</a> (void)</td></tr>
<tr class="memdesc:a965f1afa68128bdfaeac93e216e2196f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the current time, possibly adjusted for epoch.  <br /></td></tr>
<tr class="separator:a965f1afa68128bdfaeac93e216e2196f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8b593aa571fee824ba84d66761db80c7"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#a8b593aa571fee824ba84d66761db80c7">steady_now</a> (void)</td></tr>
<tr class="memdesc:a8b593aa571fee824ba84d66761db80c7"><td class="mdescLeft">&#160;</td><td class="mdescRight">Tell the current time since startup.  <br /></td></tr>
<tr class="separator:a8b593aa571fee824ba84d66761db80c7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af97cadfe288c3a56749ac70ae85c93bb"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#af97cadfe288c3a56749ac70ae85c93bb">sleep_for</a> (<a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a> duration)</td></tr>
<tr class="memdesc:af97cadfe288c3a56749ac70ae85c93bb"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep for a relative duration.  <br /></td></tr>
<tr class="separator:af97cadfe288c3a56749ac70ae85c93bb"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7720aceded20f868c541755b26027901"><td class="memItemLeft" align="right" valign="top">virtual <a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#a7720aceded20f868c541755b26027901">sleep_until</a> (<a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a> timestamp)</td></tr>
<tr class="memdesc:a7720aceded20f868c541755b26027901"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sleep until an absolute timestamp.  <br /></td></tr>
<tr class="separator:a7720aceded20f868c541755b26027901"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5a99215d8e93906802385eb70e921a05"><td class="memItemLeft" align="right" valign="top"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#a5a99215d8e93906802385eb70e921a05">wait_for</a> (<a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a> timeout)</td></tr>
<tr class="memdesc:a5a99215d8e93906802385eb70e921a05"><td class="mdescLeft">&#160;</td><td class="mdescRight">Timed wait for an event.  <br /></td></tr>
<tr class="separator:a5a99215d8e93906802385eb70e921a05"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7edf24e95388b283aa2d3f1ca39fab2b"><td class="memItemLeft" align="right" valign="top"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock.html#a7edf24e95388b283aa2d3f1ca39fab2b">update_for_slept_time</a> (<a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a> duration)</td></tr>
<tr class="memdesc:a7edf24e95388b283aa2d3f1ca39fab2b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Increase the internal count after a deep sleep.  <br /></td></tr>
<tr class="separator:a7edf24e95388b283aa2d3f1ca39fab2b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr><td colspan="2"><div class="groupHeader">Public Member Functions</div></td></tr>
<tr class="memitem:a3103a84c5e0521c3639306f5879526ba"><td class="memItemLeft" align="right" valign="top">const char *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1internal_1_1object__named.html#a3103a84c5e0521c3639306f5879526ba">name</a> (void) const</td></tr>
<tr class="memdesc:a3103a84c5e0521c3639306f5879526ba"><td class="mdescLeft">&#160;</td><td class="mdescRight">Get object name.  <br /></td></tr>
<tr class="separator:a3103a84c5e0521c3639306f5879526ba"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="pub-static-attribs" name="pub-static-attribs"></a>
Static Public Attributes</h2></td></tr>
<tr><td colspan="2"><div class="groupHeader">Types &amp; Constants</div></td></tr>
<tr class="memitem:a2abaebfa5e1ff2d36380770e513d1c8e"><td class="memItemLeft" align="right" valign="top">static constexpr uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock__systick.html#a2abaebfa5e1ff2d36380770e513d1c8e">frequency_hz</a> = <a class="el" href="group__cmsis-plus-app-config-rtos.html#gab657098ae141f5b84a1319f48c181052">OS_INTEGER_SYSTICK_FREQUENCY_HZ</a></td></tr>
<tr class="memdesc:a2abaebfa5e1ff2d36380770e513d1c8e"><td class="mdescLeft">&#160;</td><td class="mdescRight">SysTick frequency in Hz.  <br /></td></tr>
<tr class="separator:a2abaebfa5e1ff2d36380770e513d1c8e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader">Public Member Functions</h2></td></tr>
<tr class="memitem:ae9468d10ee3d1c9cec4e405d1442593b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock__systick.html#ae9468d10ee3d1c9cec4e405d1442593b">start</a> (void) override</td></tr>
<tr class="separator:ae9468d10ee3d1c9cec4e405d1442593b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ad62d8700873c719d37c212daba7f47c3"><td class="memTemplParams" colspan="2">template&lt;typename Rep_T &gt; </td></tr>
<tr class="memitem:ad62d8700873c719d37c212daba7f47c3"><td class="memTemplItemLeft" align="right" valign="top">static constexpr <a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">clock::duration_t</a>&#160;</td><td class="memTemplItemRight" valign="bottom"><a class="el" href="classos_1_1rtos_1_1clock__systick.html#ad62d8700873c719d37c212daba7f47c3">ticks_cast</a> (Rep_T microsec)</td></tr>
<tr class="memdesc:ad62d8700873c719d37c212daba7f47c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Convert microseconds to ticks.  <br /></td></tr>
<tr class="separator:ad62d8700873c719d37c212daba7f47c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>SysTick derived clock. </p>
<p>This clock counts SysTick interrupts since startup.</p>
<p>The SysTick clock should be a steady clock, i.e. the total count of ticks should be monotone ascending (in other words no adjustments to the past should be performed).</p>
<p>For Cortex-M implementations using the standard SysTick, this clock is able to provide accuracy at CPU cycle level, by sampling the SysTick internal counter. For a CPU clock of 100 MHz, this gives a 10 ns resolution, quite high for accurate timing.</p>
<dl class="section user"><dt>Example</dt><dd></dd></dl>
<div class="fragment"><div class="line"><span class="keywordtype">void</span></div>
<div class="line">func(<span class="keywordtype">void</span>)</div>
<div class="line">{</div>
<div class="line">   <span class="comment">// Do something</span></div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Get the current ticks counter.</span></div>
<div class="line">   <a class="code hl_typedef" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">clock::timestamp_t</a> ticks = <a class="code hl_variable" href="group__cmsis-plus-rtos-clock.html#gab46d0af461e8a8434153e068bc32dc5a">sysclock</a>.<a class="code hl_function" href="classos_1_1rtos_1_1clock.html#a965f1afa68128bdfaeac93e216e2196f">now</a>();</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Put the current thread to sleep for a given number of ticks.</span></div>
<div class="line">   <a class="code hl_variable" href="group__cmsis-plus-rtos-clock.html#gab46d0af461e8a8434153e068bc32dc5a">sysclock</a>.<a class="code hl_function" href="classos_1_1rtos_1_1clock.html#af97cadfe288c3a56749ac70ae85c93bb">sleep_for</a>(7);</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Put the current thread to sleep for a given number of microseconds.</span></div>
<div class="line">   <span class="comment">// For a 1000 Hz clock, the actual value is 4 ticks.</span></div>
<div class="line">   <a class="code hl_variable" href="group__cmsis-plus-rtos-clock.html#gab46d0af461e8a8434153e068bc32dc5a">sysclock</a>.<a class="code hl_function" href="classos_1_1rtos_1_1clock.html#af97cadfe288c3a56749ac70ae85c93bb">sleep_for</a>(<a class="code hl_function" href="classos_1_1rtos_1_1clock__systick.html#ad62d8700873c719d37c212daba7f47c3">clock_systick::ticks_cast</a>((uint64_t)(3500)));</div>
<div class="line"> </div>
<div class="line">   <span class="comment">// Do something else.</span></div>
<div class="line">}</div>
<div class="ttc" id="aclassos_1_1rtos_1_1clock__systick_html_ad62d8700873c719d37c212daba7f47c3"><div class="ttname"><a href="classos_1_1rtos_1_1clock__systick.html#ad62d8700873c719d37c212daba7f47c3">os::rtos::clock_systick::ticks_cast</a></div><div class="ttdeci">static constexpr clock::duration_t ticks_cast(Rep_T microsec)</div><div class="ttdoc">Convert microseconds to ticks.</div></div>
<div class="ttc" id="aclassos_1_1rtos_1_1clock_html_a965f1afa68128bdfaeac93e216e2196f"><div class="ttname"><a href="classos_1_1rtos_1_1clock.html#a965f1afa68128bdfaeac93e216e2196f">os::rtos::clock::now</a></div><div class="ttdeci">virtual timestamp_t now(void)</div><div class="ttdoc">Tell the current time, possibly adjusted for epoch.</div><div class="ttdef"><b>Definition</b> <a href="os-clocks_8cpp_source.html#l00162">os-clocks.cpp:162</a></div></div>
<div class="ttc" id="aclassos_1_1rtos_1_1clock_html_af97cadfe288c3a56749ac70ae85c93bb"><div class="ttname"><a href="classos_1_1rtos_1_1clock.html#af97cadfe288c3a56749ac70ae85c93bb">os::rtos::clock::sleep_for</a></div><div class="ttdeci">result_t sleep_for(duration_t duration)</div><div class="ttdoc">Sleep for a relative duration.</div><div class="ttdef"><b>Definition</b> <a href="os-clocks_8cpp_source.html#l00190">os-clocks.cpp:190</a></div></div>
<div class="ttc" id="agroup__cmsis-plus-rtos-clock_html_ga4f6ee5cdd07c87db11f64d02e1c354d1"><div class="ttname"><a href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">os::rtos::clock::timestamp_t</a></div><div class="ttdeci">port::clock::timestamp_t timestamp_t</div><div class="ttdoc">Type of variables holding clock time stamps.</div><div class="ttdef"><b>Definition</b> <a href="os-clocks_8h_source.html#l00085">os-clocks.h:85</a></div></div>
<div class="ttc" id="agroup__cmsis-plus-rtos-clock_html_gab46d0af461e8a8434153e068bc32dc5a"><div class="ttname"><a href="group__cmsis-plus-rtos-clock.html#gab46d0af461e8a8434153e068bc32dc5a">os::rtos::sysclock</a></div><div class="ttdeci">clock_systick sysclock</div><div class="ttdoc">The system clock object instance.</div><div class="ttdef"><b>Definition</b> <a href="os-clocks_8cpp_source.html#l00565">os-clocks.cpp:565</a></div></div>
</div><!-- fragment --> 
<p class="definition">Definition at line <a class="el" href="os-clocks_8h_source.html#l00460">460</a> of file <a class="el" href="os-clocks_8h_source.html">os-clocks.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a id="ad32ae07f1c2e9c3cee3077e50a9c8fdd" name="ad32ae07f1c2e9c3cee3077e50a9c8fdd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad32ae07f1c2e9c3cee3077e50a9c8fdd">&#9670;&#160;</a></span>clock_systick()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::clock_systick::clock_systick </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Construct a SysTick clock object instance. </p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00573">573</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="a3714904ecc435583aa5e9694616fc830" name="a3714904ecc435583aa5e9694616fc830"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3714904ecc435583aa5e9694616fc830">&#9670;&#160;</a></span>~clock_systick()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">os::rtos::clock_systick::~clock_systick </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Destruct the SysTick clock object instance. </p>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00582">582</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a id="a3103a84c5e0521c3639306f5879526ba" name="a3103a84c5e0521c3639306f5879526ba"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3103a84c5e0521c3639306f5879526ba">&#9670;&#160;</a></span>name()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const char * os::rtos::internal::object_named::name </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Get object name. </p>
<dl class="section user"><dt>Parameters</dt><dd>None. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>A null terminated string.</dd></dl>
<p>All objects return a non-null string; anonymous objects return <code>"-"</code>.</p>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-decls_8h_source.html#l00759">759</a> of file <a class="el" href="os-decls_8h_source.html">os-decls.h</a>.</p>

</div>
</div>
<a id="a965f1afa68128bdfaeac93e216e2196f" name="a965f1afa68128bdfaeac93e216e2196f"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a965f1afa68128bdfaeac93e216e2196f">&#9670;&#160;</a></span>now()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">clock::timestamp_t</a> os::rtos::clock::now </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tell the current time, possibly adjusted for epoch. </p>
<dl class="section user"><dt>Parameters</dt><dd>None. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The clock current timestamp (time units from startup plus the epoch offset).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p>Reimplemented in <a class="el" href="classos_1_1rtos_1_1adjustable__clock.html#a2ff3189d8d88102a0e49fd094bc7c70b">os::rtos::adjustable_clock</a>, and <a class="el" href="classos_1_1rtos_1_1clock__highres.html#adebfa864877a8aebe860cac84e205cde">os::rtos::clock_highres</a>.</p>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00162">162</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="af97cadfe288c3a56749ac70ae85c93bb" name="af97cadfe288c3a56749ac70ae85c93bb"></a>
<h2 class="memtitle"><span class="permalink"><a href="#af97cadfe288c3a56749ac70ae85c93bb">&#9670;&#160;</a></span>sleep_for()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::clock::sleep_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a>&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sleep for a relative duration. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">duration</td><td>The number of clock units (ticks or seconds) to sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ETIMEDOUT</td><td>The sleep lasted the entire duration. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The sleep was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00190">190</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="a7720aceded20f868c541755b26027901" name="a7720aceded20f868c541755b26027901"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7720aceded20f868c541755b26027901">&#9670;&#160;</a></span>sleep_until()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::clock::sleep_until </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">timestamp_t</a>&#160;</td>
          <td class="paramname"><em>timestamp</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sleep until an absolute timestamp. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timestamp</td><td>The absolute moment in time, in clock units. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ETIMEDOUT</td><td>The sleep lasted the entire duration. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The sleep was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Reimplemented in <a class="el" href="classos_1_1rtos_1_1adjustable__clock.html#a5582df6aac1fd73354589bb024f17873">os::rtos::adjustable_clock</a>.</p>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00240">240</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="ae9468d10ee3d1c9cec4e405d1442593b" name="ae9468d10ee3d1c9cec4e405d1442593b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae9468d10ee3d1c9cec4e405d1442593b">&#9670;&#160;</a></span>start()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void os::rtos::clock_systick::start </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">override</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p>Implements <a class="el" href="classos_1_1rtos_1_1clock.html#addb7972fd07f3be0abb5287d470987f9">os::rtos::clock</a>.</p>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00590">590</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="a8b593aa571fee824ba84d66761db80c7" name="a8b593aa571fee824ba84d66761db80c7"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a8b593aa571fee824ba84d66761db80c7">&#9670;&#160;</a></span>steady_now()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">clock::timestamp_t</a> os::rtos::clock::steady_now </td>
          <td>(</td>
          <td class="paramtype">void&#160;</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Tell the current time since startup. </p>
<dl class="section user"><dt>Parameters</dt><dd>None. </dd></dl>
<dl class="section return"><dt>Returns</dt><dd>The clock current steady timestamp (time units from startup).</dd></dl>
<dl class="section note"><dt>Note</dt><dd>Can be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00176">176</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="ad62d8700873c719d37c212daba7f47c3" name="ad62d8700873c719d37c212daba7f47c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad62d8700873c719d37c212daba7f47c3">&#9670;&#160;</a></span>ticks_cast()</h2>

<div class="memitem">
<div class="memproto">
<div class="memtemplate">
template&lt;typename Rep_T &gt; </div>
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">static constexpr <a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">clock::duration_t</a> os::rtos::clock_systick::ticks_cast </td>
          <td>(</td>
          <td class="paramtype">Rep_T&#160;</td>
          <td class="paramname"><em>microsec</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Convert microseconds to ticks. </p>
<dl class="tparams"><dt>Template Parameters</dt><dd>
  <table class="tparams">
    <tr><td class="paramname">Rep_T</td><td>Type of input, auto deduced (usually uint32_t or uin64_t) </td></tr>
  </table>
  </dd>
</dl>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">microsec</td><td>The number of microseconds. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The number of ticks. </dd></dl>

</div>
</div>
<a id="a7edf24e95388b283aa2d3f1ca39fab2b" name="a7edf24e95388b283aa2d3f1ca39fab2b"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7edf24e95388b283aa2d3f1ca39fab2b">&#9670;&#160;</a></span>update_for_slept_time()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga4f6ee5cdd07c87db11f64d02e1c354d1">clock::timestamp_t</a> os::rtos::clock::update_for_slept_time </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a>&#160;</td>
          <td class="paramname"><em>duration</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Increase the internal count after a deep sleep. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">duration</td><td>Number of ticks lost during sleep. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The clock current steady timestamp (time units from startup).</dd></dl>
<p>During deep sleep the interrupts used to count clock ticks are usually disabled and an external RTC is configured to wake-up the device, so a number of clock ticks are lost.</p>
<p>To keep the clocks accurate, it is recommended to sample the external RTC before entering deep sleep and again when the device is back to life, compute the time slept as difference, and use this function to update the internal clock counter. </p>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00329">329</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<a id="a5a99215d8e93906802385eb70e921a05" name="a5a99215d8e93906802385eb70e921a05"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a5a99215d8e93906802385eb70e921a05">&#9670;&#160;</a></span>wait_for()</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="namespaceos_1_1rtos.html#a54633089ccffe9e56ce1137ebe57776d">result_t</a> os::rtos::clock::wait_for </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="group__cmsis-plus-rtos-clock.html#ga149d8b5cea55224ef5cfede8a81df04c">duration_t</a>&#160;</td>
          <td class="paramname"><em>timeout</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inherited</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Timed wait for an event. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">timeout</td><td>The timeout in clock units. </td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname"><a class="el" href="namespaceos_1_1rtos_1_1result.html#a1f5b41a48ca4ac9f7aeb3bd1c702b45aac3daa6d58a1202b112a91628d144685b" title="Function completed; no errors or events occurred.">result::ok</a></td><td>An event occurred before the timeout. </td></tr>
    <tr><td class="paramname">ETIMEDOUT</td><td>The wait lasted the entire duration. </td></tr>
    <tr><td class="paramname">EPERM</td><td>Cannot be invoked from an Interrupt Service Routines. </td></tr>
    <tr><td class="paramname">EINTR</td><td>The sleep was interrupted.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section warning"><dt>Warning</dt><dd>Cannot be invoked from Interrupt Service Routines. </dd></dl>

<p class="definition">Definition at line <a class="el" href="os-clocks_8cpp_source.html#l00279">279</a> of file <a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a id="a2abaebfa5e1ff2d36380770e513d1c8e" name="a2abaebfa5e1ff2d36380770e513d1c8e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a2abaebfa5e1ff2d36380770e513d1c8e">&#9670;&#160;</a></span>frequency_hz</h2>

<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">constexpr uint32_t os::rtos::clock_systick::frequency_hz = <a class="el" href="group__cmsis-plus-app-config-rtos.html#gab657098ae141f5b84a1319f48c181052">OS_INTEGER_SYSTICK_FREQUENCY_HZ</a></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">constexpr</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>SysTick frequency in Hz. </p>

<p class="definition">Definition at line <a class="el" href="os-clocks_8h_source.html#l00472">472</a> of file <a class="el" href="os-clocks_8h_source.html">os-clocks.h</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li><a class="el" href="os-clocks_8h_source.html">os-clocks.h</a></li>
<li><a class="el" href="os-clocks_8cpp_source.html">os-clocks.cpp</a></li>
</ul>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="namespaceos.html">os</a></li><li class="navelem"><a class="el" href="namespaceos_1_1rtos.html">rtos</a></li><li class="navelem"><a class="el" href="classos_1_1rtos_1_1clock__systick.html">clock_systick</a></li>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.7 </li>
  </ul>
</div>
</body>
</html>
